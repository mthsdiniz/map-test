<!DOCTYPE html>
<html>
<head>
  <title>Leaflet Map with GeoTIFF Layers</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/leaflet/1.3.1/leaflet.css" />
  <script src="https://cdn.jsdelivr.net/leaflet/1.3.1/leaflet.js"></script>
  <script src="https://unpkg.com/georaster"></script>
  <script src="https://unpkg.com/georaster-layer-for-leaflet"></script>
  <style>
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 999;
    }
    .modal-box {
      background-color: white;
      padding: 20px;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    }
  </style>
</head>
<body>
  <div id="map" style="height: 500px;"></div>
  <div>
    <button id="add-layers-button">Add Layers</button>
  </div>
  <div class="modal-overlay" id="modal-overlay">
    <div class="modal-box">
      <label for="url-input">Enter URLs (comma-separated):</label>
      <input type="text" id="url-input" value="https://example.com/myfile1.tif, https://example.com/myfile2.tif, https://example.com/myfile3.tif">
      <button id="submit-button">Submit</button>
      <button id="cancel-button">Cancel</button>
    </div>
  </div>
  <script>
  const map = L.map('map').setView([0, 0], 2);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: 'Map data Â© <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors'
}).addTo(map);

const addLayersButton = document.getElementById('add-layers-button');
const modalOverlay = document.getElementById('modal-overlay');
const urlInput = document.getElementById('url-input');
const submitButton = document.getElementById('submit-button');
const cancelButton = document.getElementById('cancel-button');

addLayersButton.addEventListener('click', () => {
  modalOverlay.style.display = 'flex';
});

cancelButton.addEventListener('click', () => {
  modalOverlay.style.display = 'none';
});

submitButton.addEventListener('click', () => {
  const urls = urlInput.value.split(',').map(url => url.trim());
  addLayersFromUrls(map, urls);
  modalOverlay.style.display = 'none';
});

async function addLayersFromUrls(map, urls) {
  const promises = urls.map(async (url) => {
    try {
      const response = await fetch(url);
      const arrayBuffer = await response.arrayBuffer();
      const georaster = await parseGeoraster(arrayBuffer

  
  
  </script>
</body>
</html>
